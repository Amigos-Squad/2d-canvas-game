{"version":3,"file":"server.js","mappings":"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","sources":["webpack://2d-canvas-game/./config/index.ts","webpack://2d-canvas-game/./config/webpack/assets/dir.ts","webpack://2d-canvas-game/./config/webpack/assets/env.ts","webpack://2d-canvas-game/./config/webpack/assets/index.ts","webpack://2d-canvas-game/./config/webpack/index.ts","webpack://2d-canvas-game/./config/webpack/loaders/css.ts","webpack://2d-canvas-game/./config/webpack/loaders/file.ts","webpack://2d-canvas-game/./config/webpack/loaders/index.ts","webpack://2d-canvas-game/./config/webpack/loaders/ts.ts","webpack://2d-canvas-game/./config/webpack/optimization/optimization.ts","webpack://2d-canvas-game/./config/webpack/plugins/plugins.ts","webpack://2d-canvas-game/./config/webpack/settings/index.ts","webpack://2d-canvas-game/./config/webpack/settings/initClientConfig.ts","webpack://2d-canvas-game/./config/webpack/settings/initServerConfig.ts","webpack://2d-canvas-game/./server/middlewares/index.ts","webpack://2d-canvas-game/./server/middlewares/logger.ts","webpack://2d-canvas-game/./server/middlewares/render/index.ts","webpack://2d-canvas-game/./server/middlewares/render/render.tsx","webpack://2d-canvas-game/./server/middlewares/webpackHot.ts","webpack://2d-canvas-game/./server/server.ts","webpack://2d-canvas-game/./server/utils/index.ts","webpack://2d-canvas-game/./server/utils/startApp.ts","webpack://2d-canvas-game/external commonjs \"clean-webpack-plugin\"","webpack://2d-canvas-game/external commonjs \"compression-webpack-plugin\"","webpack://2d-canvas-game/external commonjs \"css-minimizer-webpack-plugin\"","webpack://2d-canvas-game/external commonjs \"dotenv\"","webpack://2d-canvas-game/external commonjs \"duplicate-package-checker-webpack-plugin\"","webpack://2d-canvas-game/external commonjs \"express\"","webpack://2d-canvas-game/external commonjs \"html-webpack-plugin\"","webpack://2d-canvas-game/external commonjs \"mini-css-extract-plugin\"","webpack://2d-canvas-game/external commonjs \"react\"","webpack://2d-canvas-game/external commonjs \"react-dom/server\"","webpack://2d-canvas-game/external commonjs \"terser-webpack-plugin\"","webpack://2d-canvas-game/external commonjs \"tslib\"","webpack://2d-canvas-game/external commonjs \"webpack\"","webpack://2d-canvas-game/external commonjs \"webpack-dev-middleware\"","webpack://2d-canvas-game/external commonjs \"webpack-hot-middleware\"","webpack://2d-canvas-game/external commonjs \"webpack-node-externals\"","webpack://2d-canvas-game/external node-commonjs \"path\"","webpack://2d-canvas-game/webpack/bootstrap","webpack://2d-canvas-game/./server/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initServerConfig = exports.initClientConfig = exports.ENVS = void 0;\nvar webpack_1 = require(\"./webpack\");\nObject.defineProperty(exports, \"ENVS\", { enumerable: true, get: function () { return webpack_1.ENVS; } });\nObject.defineProperty(exports, \"initClientConfig\", { enumerable: true, get: function () { return webpack_1.initClientConfig; } });\nObject.defineProperty(exports, \"initServerConfig\", { enumerable: true, get: function () { return webpack_1.initServerConfig; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CLIENT_DIR = exports.SERVER_DIR = exports.DIST_DIR = exports.ROOT_DIR_FROM_WEBPACK = void 0;\nconst tslib_1 = require(\"tslib\");\nconst path_1 = (0, tslib_1.__importDefault)(require(\"path\"));\nexports.ROOT_DIR_FROM_WEBPACK = path_1.default.join(__dirname, '../../../');\nexports.DIST_DIR = path_1.default.join(exports.ROOT_DIR_FROM_WEBPACK, 'dist');\nexports.SERVER_DIR = path_1.default.join(exports.ROOT_DIR_FROM_WEBPACK, 'server');\nexports.CLIENT_DIR = path_1.default.join(exports.ROOT_DIR_FROM_WEBPACK, 'src');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GLOBAL_ARGS = exports.ENVS = exports.env = void 0;\nexports.env = process.env.NODE_ENV || 'development';\nexports.ENVS = {\n    __DEV__: exports.env === 'development',\n    __PROD__: exports.env === 'production',\n    __TEST__: exports.env === 'testing',\n};\nexports.GLOBAL_ARGS = Object.assign(Object.assign({}, exports.ENVS), { 'process.env': Object.assign(Object.assign({}, exports.ENVS), { NODE_ENV: JSON.stringify(exports.env), PORT: process.env.PORT || 4007 }) });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ENVS = void 0;\nvar env_1 = require(\"./env\");\nObject.defineProperty(exports, \"ENVS\", { enumerable: true, get: function () { return env_1.ENVS; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initClientConfig = exports.initServerConfig = exports.ENVS = void 0;\nvar assets_1 = require(\"./assets\");\nObject.defineProperty(exports, \"ENVS\", { enumerable: true, get: function () { return assets_1.ENVS; } });\nvar settings_1 = require(\"./settings\");\nObject.defineProperty(exports, \"initServerConfig\", { enumerable: true, get: function () { return settings_1.initServerConfig; } });\nObject.defineProperty(exports, \"initClientConfig\", { enumerable: true, get: function () { return settings_1.initClientConfig; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CSS_LOADER = void 0;\nconst tslib_1 = require(\"tslib\");\nconst mini_css_extract_plugin_1 = (0, tslib_1.__importDefault)(require(\"mini-css-extract-plugin\"));\nconst env_1 = require(\"../assets/env\");\nconst { __DEV__ } = env_1.ENVS;\nexports.CSS_LOADER = __DEV__\n    ? {\n        client: {\n            test: /\\.(css|scss|sass)$/i,\n            use: ['css-hot-loader', 'style-loader', 'css-loader', 'sass-loader'],\n        },\n        server: {\n            test: /\\.css$/,\n            loader: 'null-loader',\n        },\n    }\n    : {\n        client: {\n            test: /\\.(css|scss|sass)$/i,\n            use: [mini_css_extract_plugin_1.default.loader, 'css-loader', 'sass-loader'],\n        },\n        server: {\n            test: /\\.css$/,\n            loader: 'null-loader',\n        },\n    };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE_LOADER = void 0;\nconst fileRegex = /^(?!.*\\.inline).*\\.(svg|jpe?g|png|gif|eot|woff2?|ttf)$/;\nexports.FILE_LOADER = {\n    client: {\n        test: fileRegex,\n        type: 'asset/resource',\n    },\n    server: {\n        test: fileRegex,\n        type: 'asset/resource',\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TS_LOADER = exports.CSS_LOADER = exports.FILE_LOADER = void 0;\nvar file_1 = require(\"./file\");\nObject.defineProperty(exports, \"FILE_LOADER\", { enumerable: true, get: function () { return file_1.FILE_LOADER; } });\nvar css_1 = require(\"./css\");\nObject.defineProperty(exports, \"CSS_LOADER\", { enumerable: true, get: function () { return css_1.CSS_LOADER; } });\nvar ts_1 = require(\"./ts\");\nObject.defineProperty(exports, \"TS_LOADER\", { enumerable: true, get: function () { return ts_1.TS_LOADER; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TS_LOADER = void 0;\nexports.TS_LOADER = {\n    client: {\n        test: /\\.(ts|tsx)$/i,\n        exclude: /node_modules/,\n        use: 'ts-loader',\n    },\n    server: {\n        test: /\\.(ts|tsx)$/i,\n        exclude: /node_modules/,\n        use: 'ts-loader',\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OPTIMIZATION = void 0;\nconst tslib_1 = require(\"tslib\");\nconst css_minimizer_webpack_plugin_1 = (0, tslib_1.__importDefault)(require(\"css-minimizer-webpack-plugin\"));\nconst terser_webpack_plugin_1 = (0, tslib_1.__importDefault)(require(\"terser-webpack-plugin\"));\nconst env_1 = require(\"../assets/env\");\nconst { __DEV__ } = env_1.ENVS;\nexports.OPTIMIZATION = __DEV__\n    ? {\n        splitChunks: {\n            chunks: 'all',\n        },\n    }\n    : {\n        splitChunks: {\n            chunks: 'all',\n        },\n        minimizer: [new css_minimizer_webpack_plugin_1.default(), new terser_webpack_plugin_1.default()],\n    };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GET_PLUGINS = void 0;\nconst tslib_1 = require(\"tslib\");\nconst webpack_1 = require(\"webpack\");\nconst mini_css_extract_plugin_1 = (0, tslib_1.__importDefault)(require(\"mini-css-extract-plugin\"));\nconst html_webpack_plugin_1 = (0, tslib_1.__importDefault)(require(\"html-webpack-plugin\"));\nconst clean_webpack_plugin_1 = require(\"clean-webpack-plugin\");\nconst duplicate_package_checker_webpack_plugin_1 = (0, tslib_1.__importDefault)(require(\"duplicate-package-checker-webpack-plugin\"));\nconst compression_webpack_plugin_1 = (0, tslib_1.__importDefault)(require(\"compression-webpack-plugin\"));\nconst env_1 = require(\"../assets/env\");\nconst { __DEV__, __PROD__ } = env_1.ENVS;\nconst GET_PLUGINS = () => {\n    const plugins = [\n        new webpack_1.ProgressPlugin(),\n        new clean_webpack_plugin_1.CleanWebpackPlugin(),\n        new html_webpack_plugin_1.default({\n            template: './public/index.html',\n            title: '2d-canvas-game',\n            minify: {\n                collapseWhitespace: __PROD__,\n            },\n        }),\n        new mini_css_extract_plugin_1.default({\n            filename: `css/[name].css`,\n        }),\n        new webpack_1.DefinePlugin(env_1.GLOBAL_ARGS),\n        new webpack_1.ContextReplacementPlugin(/moment[/\\\\]locale$/, /ru/),\n    ];\n    if (__DEV__) {\n        plugins.push(new webpack_1.HotModuleReplacementPlugin(), new compression_webpack_plugin_1.default({ minRatio: 1 }));\n    }\n    if (__PROD__) {\n        plugins.push(new duplicate_package_checker_webpack_plugin_1.default());\n    }\n    return plugins;\n};\nexports.GET_PLUGINS = GET_PLUGINS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initServerConfig = exports.initClientConfig = void 0;\nvar initClientConfig_1 = require(\"./initClientConfig\");\nObject.defineProperty(exports, \"initClientConfig\", { enumerable: true, get: function () { return initClientConfig_1.initClientConfig; } });\nvar initServerConfig_1 = require(\"./initServerConfig\");\nObject.defineProperty(exports, \"initServerConfig\", { enumerable: true, get: function () { return initServerConfig_1.initServerConfig; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initClientConfig = void 0;\nconst path_1 = require(\"path\");\nconst dir_1 = require(\"../assets/dir\");\nconst env_1 = require(\"../assets/env\");\nconst plugins_1 = require(\"../plugins/plugins\");\nconst loaders_1 = require(\"../loaders\");\nconst optimization_1 = require(\"../optimization/optimization\");\nconst { __DEV__ } = env_1.ENVS;\nexports.initClientConfig = {\n    name: `client`,\n    target: 'web',\n    devtool: 'source-map',\n    entry: {\n        index: [\n            __DEV__ && 'react-hot-loader/patch',\n            __DEV__ && 'webpack-hot-middleware/client',\n            __DEV__ && 'css-hot-loader/hotModuleReplacement',\n            (0, path_1.join)(dir_1.CLIENT_DIR, 'index'),\n        ].filter(Boolean),\n    },\n    mode: __DEV__ ? 'development' : 'production',\n    output: {\n        path: dir_1.DIST_DIR,\n        filename: `[name].js`,\n        publicPath: '/',\n    },\n    resolve: {\n        extensions: ['*', '.js', '.jsx', '.json', '.ts', '.tsx'],\n        alias: {\n            '@': dir_1.CLIENT_DIR,\n            scss: `${dir_1.CLIENT_DIR}/styles`,\n        },\n    },\n    module: {\n        rules: [loaders_1.TS_LOADER.client, loaders_1.FILE_LOADER.client, loaders_1.CSS_LOADER.client],\n    },\n    plugins: (0, plugins_1.GET_PLUGINS)(),\n    optimization: optimization_1.OPTIMIZATION,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initServerConfig = void 0;\nconst tslib_1 = require(\"tslib\");\nconst dotenv_1 = require(\"dotenv\");\nconst path_1 = require(\"path\");\nconst webpack_1 = (0, tslib_1.__importDefault)(require(\"webpack\"));\nconst webpack_node_externals_1 = (0, tslib_1.__importDefault)(require(\"webpack-node-externals\"));\nconst dir_1 = require(\"../assets/dir\");\nconst loaders_1 = require(\"../loaders\");\nconst env_1 = require(\"../assets/env\");\n(0, dotenv_1.config)();\nconst { __DEV__ } = env_1.ENVS;\nexports.initServerConfig = {\n    name: 'server',\n    devtool: 'source-map',\n    entry: (0, path_1.join)(dir_1.SERVER_DIR, 'index'),\n    node: { __dirname: false },\n    mode: __DEV__ ? 'development' : 'production',\n    externalsPresets: { node: true },\n    externals: [\n        (0, webpack_node_externals_1.default)({ allowlist: [/\\.(?!(?:tsx?|json)$).{1,5}$/i] }),\n    ],\n    resolve: {\n        modules: [dir_1.ROOT_DIR_FROM_WEBPACK, 'node_modules'],\n        extensions: ['.js', '.jsx', '.json', '.ts', '.tsx'],\n        alias: {\n            '@': dir_1.CLIENT_DIR,\n            scss: `${dir_1.CLIENT_DIR}/styles`,\n        },\n    },\n    output: {\n        filename: 'server.js',\n        libraryTarget: 'commonjs2',\n        publicPath: '/',\n        path: (0, path_1.join)(dir_1.SERVER_DIR, 'distServer'),\n    },\n    module: {\n        rules: [loaders_1.TS_LOADER.server, loaders_1.FILE_LOADER.server, loaders_1.CSS_LOADER.server],\n    },\n    performance: {\n        hints: __DEV__ ? false : 'warning',\n    },\n    plugins: [\n        new webpack_1.default.ProvidePlugin({\n            window: (0, path_1.resolve)((0, path_1.join)(__dirname, '../mock/window.mock')),\n            localStorage: (0, path_1.resolve)((0, path_1.join)(__dirname, '../mock/localStorage.mock')),\n            document: 'global/document',\n        }),\n    ],\n    optimization: {\n        nodeEnv: false,\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderMiddleware = exports.logger = exports.webpackHot = void 0;\nvar webpackHot_1 = require(\"./webpackHot\");\nObject.defineProperty(exports, \"webpackHot\", { enumerable: true, get: function () { return webpackHot_1.webpackHot; } });\nvar logger_1 = require(\"./logger\");\nObject.defineProperty(exports, \"logger\", { enumerable: true, get: function () { return logger_1.logger; } });\nvar render_1 = require(\"./render\");\nObject.defineProperty(exports, \"renderMiddleware\", { enumerable: true, get: function () { return render_1.renderMiddleware; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logger = void 0;\nconst logger = () => {\n    return (req, _res, next) => {\n        req.logger = () => {\n            // eslint-disable-next-line\n            console.log(req);\n        };\n        next();\n    };\n};\nexports.logger = logger;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderMiddleware = void 0;\nconst render_1 = require(\"./render\");\nconst renderMiddleware = (req, res, next) => {\n    /* const location = req.url; */\n    res.send((0, render_1.renderHTML)());\n    next();\n};\nexports.renderMiddleware = renderMiddleware;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderHTML = void 0;\nconst tslib_1 = require(\"tslib\");\nconst react_1 = (0, tslib_1.__importDefault)(require(\"react\"));\nconst server_1 = require(\"react-dom/server\");\nfunction getPageHtml(content) {\n    const html = (0, server_1.renderToStaticMarkup)(react_1.default.createElement(\"html\", { lang: \"en\" },\n        react_1.default.createElement(\"head\", null,\n            react_1.default.createElement(\"meta\", { charSet: \"UTF-8\" }),\n            react_1.default.createElement(\"meta\", { name: \"viewport\", content: \"width=device-width, initial-scale=1.0\" }),\n            react_1.default.createElement(\"meta\", { httpEquiv: \"X-UA-Compatible\", content: \"ie=edge\" }),\n            react_1.default.createElement(\"title\", null, \"SSR\")),\n        react_1.default.createElement(\"body\", null,\n            react_1.default.createElement(\"div\", { id: \"root\" },\n                \"$\",\n                content),\n            react_1.default.createElement(\"script\", { src: \"/index.js\" }))));\n    return `<!doctype html>${html}`;\n}\nconst renderHTML = () => {\n    return getPageHtml('12');\n};\nexports.renderHTML = renderHTML;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.webpackHot = void 0;\nconst tslib_1 = require(\"tslib\");\nconst webpack_1 = (0, tslib_1.__importDefault)(require(\"webpack\"));\nconst webpack_dev_middleware_1 = (0, tslib_1.__importDefault)(require(\"webpack-dev-middleware\"));\nconst webpack_hot_middleware_1 = (0, tslib_1.__importDefault)(require(\"webpack-hot-middleware\"));\nconst webpackHot = (conf) => {\n    const compiler = (0, webpack_1.default)(Object.assign(Object.assign({}, conf), { mode: 'development' }));\n    return [\n        (0, webpack_dev_middleware_1.default)(compiler, {\n            publicPath: '/',\n        }),\n        (0, webpack_hot_middleware_1.default)(compiler, { path: '/__webpack_hmr' }),\n    ];\n};\nexports.webpackHot = webpackHot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst express_1 = (0, tslib_1.__importDefault)(require(\"express\"));\nconst middlewares_1 = require(\"./middlewares\");\nconst config_1 = require(\"../config\");\nconst server = (0, express_1.default)();\nif (config_1.ENVS.__DEV__) {\n    server.use((0, middlewares_1.webpackHot)(config_1.initClientConfig));\n}\nserver.get('/', (req, res) => {\n    res.send(`<div>112</div>`);\n});\nexports.default = server;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.startApp = void 0;\nvar startApp_1 = require(\"./startApp\");\nObject.defineProperty(exports, \"startApp\", { enumerable: true, get: function () { return startApp_1.startApp; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.startApp = void 0;\nconst { PORT = 3000 } = process.env;\nconst APP_HOSTS = ['localhost'];\nfunction startApp({ server }) {\n    server.listen(PORT, () => {\n        // eslint-disable-next-line\n        console.log(`Server started on http://${APP_HOSTS[0]}:${PORT}`);\n    });\n}\nexports.startApp = startApp;\n","module.exports = require(\"clean-webpack-plugin\");","module.exports = require(\"compression-webpack-plugin\");","module.exports = require(\"css-minimizer-webpack-plugin\");","module.exports = require(\"dotenv\");","module.exports = require(\"duplicate-package-checker-webpack-plugin\");","module.exports = require(\"express\");","module.exports = require(\"html-webpack-plugin\");","module.exports = require(\"mini-css-extract-plugin\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"terser-webpack-plugin\");","module.exports = require(\"tslib\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","module.exports = require(\"webpack-node-externals\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst server_1 = (0, tslib_1.__importDefault)(require(\"./server\"));\nconst utils_1 = require(\"./utils\");\n(0, utils_1.startApp)({ server: server_1.default });\n"],"names":[],"sourceRoot":""}